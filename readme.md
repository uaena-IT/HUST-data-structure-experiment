# 图像处理实验项目 

## 项目简介

本项目基于 OpenCV 和 C++ 实现了图像分割、区域着色及哈夫曼编码等图像处理功能，主要包含以下三个核心任务：

1. **均匀随机采样与分水岭分割** ：利用泊松圆盘采样生成随机种子点，并通过分水岭算法实现图像过分割。
2. **四原图着色** ：基于邻接表构建区域关系图，并使用四色定理对图像区域进行着色。
3. **排序查找与哈夫曼编码** ：对区域面积进行排序、查找特定面积范围区域，并生成哈夫曼树及编码。

## 文件结构

```
ImageProcessingProject/
├── main.cpp             // 主程序入口
├── task1_watershed.cpp  // 任务一：分水岭分割相关实现
├── task2_coloring.cpp   // 任务二：四色图着色相关实现
├── task3_huffman.cpp    // 任务三：哈夫曼编码相关实现
├── utils.h              // 公共头文件（结构体、函数声明等）
└── wife.jpg             // 示例输入图像
```

## 环境要求

  * **操作系统** ：Windows / Linux / Mac OS
  * **编译器** ：支持 C++11 及以上标准的编译器（如 GCC、Clang 或 MSVC）
  * **依赖库** ：OpenCV 4.x

## 编译与运行

### 编译步骤

  1. 确保已安装 OpenCV 库及其开发文件。
  2. 使用 CMake 构建项目或直接使用支持 C++ 的编译器编译源文件。例如，使用 g++ 编译：

```bash
g++ -std=c++11 main.cpp task1_watershed.cpp task2_coloring.cpp task3_huffman.cpp -o ImageProcessingProject `pkg-config --cflags --libs opencv4`
```

### 运行步骤

  1. 将示例图像 `wife.jpg` 放置在项目根目录下，或修改代码中图像路径。
  2. 运行可执行文件：

```bash
./ImageProcessingProject
```

  3. 按照程序提示输入参数（如种子点个数 K 等），并查看各任务的可视化结果。

## 代码功能模块

### 任务一：均匀随机采样与分水岭分割

  * **随机种子生成** ：通过泊松圆盘采样 + 贪心策略生成均匀分布的种子点，确保种子点间距满足一定条件。
  * **分水岭分割** ：基于 OpenCV 的分水岭算法实现图像过分割，将图像划分为多个区域，并对分割结果进行优化处理（如修复边界等）。
  * **可视化** ：在原图上绘制种子点位置及编号，并生成分水岭分割结果的半透明彩色叠加图。

### 任务二：四原图着色

  * **构建邻接图** ：根据分水岭分割结果构建区域邻接关系图，使用邻接表存储区域间的相邻关系。
  * **四色着色算法** ：采用基于广度优先遍历的优化算法，结合回溯策略对区域进行四色着色，确保相邻区域颜色不同。
  * **可视化** ：将着色结果映射到图像上，生成四色图可视化效果。

### 任务三：排序查找与哈夫曼编码

  * **面积计算与排序** ：统计各区域面积，并使用堆排序算法对区域面积进行排序，找出最大和最小面积区域。
  * **查找特定面积区域** ：通过折半查找算法快速定位符合指定面积范围的区域。
  * **哈夫曼编码** ：基于区域面积构建哈夫曼树，生成哈夫曼编码，并可视化哈夫曼树结构。

## 实验报告规范

项目需配套完整的实验报告，包含以下内容：

  * **封面** ：学校学院 LOGO、报告标题、院系、专业班级、学号、姓名、指导老师、提交时间等。
  * **目录** ：细化到二级标题及对应页码。
  * **问题描述** ：阐述实验任务、规范要求、编程环境、测试数据及评价指标等。
  * **算法设计** ：分析破题原理，介绍整体架构、算法逻辑、数据结构设计及创新思路。
  * **测试分析** ：展示常规测试、合法性测试、极限性能测试、横向对比测试结果，并进行分析。
  * **总结展望** ：总结实验收获与问题，提出待优化方向及思路。
  * **附录** ：列出参考文献，附上核心源码及注释。

## 项目扩展方向

  * 优化种子点生成算法，进一步提高均匀性和效率。
  * 探索新的图像分割算法与分水岭算法结合，提升分割质量。
  * 研究更高效的图着色算法，降低四色着色失败率。
  * 增加对不同图像类型和复杂场景的适配能力。

## 联系方式

如有任何问题或建议，请联系 [2043098858@qq.com]。
